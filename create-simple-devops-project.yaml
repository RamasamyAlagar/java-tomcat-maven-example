- hosts: all
  become: yes

  tasks:

   - name: stop current running container
     command: docker stop simple-devops-container
     ignore_errors: yes

   - name: remove stopped docker container
     command: docker rm simple-devops-container
     ignore_errors: yes

   - name: remove current docker image
     command: docker rmi alagarramasamy/simple-devops-image:latest
     ignore_errors: yes

   - name: pull docker image from dockerhub
     command: docket run -d --name simple-devops-container -p 8080:8080 alagarramasamy/simple-devops-image:latest
     
